{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class PostsService {\n  // @ViewChild('postForm', { static: false }) signupForm!: NgForm;\n  constructor(http) {\n    this.http = http;\n  }\n  createAndStorePost(title, content) {\n    const postData = {\n      title: title,\n      content: content\n    };\n    this.http.post(\"https://ng-complete-guide-4db6b-default-rtdb.firebaseio.com/posts.json\", postData).subscribe(responseData => {\n      console.log(responseData);\n    });\n  }\n  fetchPosts() {\n    this.http.get(\"https://ng-complete-guide-4db6b-default-rtdb.firebaseio.com/posts.json\").pipe(map(responseData => {\n      const postsArray = [];\n      for (const key in responseData) {\n        if (responseData.hasOwnProperty(key)) {\n          postsArray.push({\n            ...responseData[key],\n            id: key\n          });\n        }\n      }\n      return postsArray;\n    }));\n  }\n}\nPostsService.ɵfac = function PostsService_Factory(t) {\n  return new (t || PostsService)(i0.ɵɵinject(i1.HttpClient));\n};\nPostsService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: PostsService,\n  factory: PostsService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAIA,SAAQA,GAAG,QAAM,gBAAgB;;;AAGjC,OAAM,MAAOC,YAAY;EACrB;EAEAC,YAAoBC,IAAe;IAAf,SAAI,GAAJA,IAAI;EAAa;EACrCC,kBAAkB,CAACC,KAAY,EAACC,OAAc;IAC1C,MAAMC,QAAQ,GAAM;MAACF,KAAK,EAACA,KAAK;MAACC,OAAO,EAACA;IAAO,CAAC;IACjD,IAAI,CAACH,IAAI,CAACK,IAAI,CAAgB,wEAAwE,EAAED,QAAQ,CAAC,CAACE,SAAS,CAACC,YAAY,IAAG;MACvIC,OAAO,CAACC,GAAG,CAACF,YAAY,CAAC;IAG3B,CAAC,CAAC;EAIR;EACAG,UAAU;IACN,IAAI,CAACV,IAAI,CAACW,GAAG,CAAsB,wEAAwE,CAAC,CAACC,IAAI,CAACf,GAAG,CAAEU,YAAgC,IAAI;MAC7J,MAAMM,UAAU,GAAU,EAAE;MAC5B,KAAK,MAAMC,GAAG,IAAIP,YAAY,EAAE;QAC9B,IAAIA,YAAY,CAACQ,cAAc,CAACD,GAAG,CAAC,EAAE;UACpCD,UAAU,CAACG,IAAI,CAAC;YAAC,GAAGT,YAAY,CAACO,GAAG,CAAC;YAAEG,EAAE,EAAEH;UAAG,CAAE,CAAC;;;MAGrD,OAAOD,UAAU;IAEnB,CAAC,EAAC;EAEF;;AA3BSf,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;SAAZA,YAAY;EAAAoB,SAAZpB,YAAY;EAAAqB,YADD;AAAM","names":["map","PostsService","constructor","http","createAndStorePost","title","content","postData","post","subscribe","responseData","console","log","fetchPosts","get","pipe","postsArray","key","hasOwnProperty","push","id","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Sanjan.shetty\\OneDrive - Happiest Minds Technologies Limited\\Desktop\\Poc-angular\\app\\src\\app\\posts.service.ts"],"sourcesContent":["import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable, ViewChild } from \"@angular/core\";\r\nimport { NgForm } from \"@angular/forms\";\r\nimport { Post } from \"./post.model\";\r\nimport {map} from'rxjs/operators';\r\n\r\n@Injectable({providedIn:'root'})\r\nexport class PostsService{\r\n    // @ViewChild('postForm', { static: false }) signupForm!: NgForm;\r\n\r\n    constructor(private http:HttpClient){}\r\n    createAndStorePost(title:string,content:string){\r\n        const postData:Post={title:title,content:content}\r\n        this.http.post<{name:string}>(\"https://ng-complete-guide-4db6b-default-rtdb.firebaseio.com/posts.json\", postData).subscribe(responseData => {\r\n            console.log(responseData);\r\n        \r\n      \r\n          })  \r\n          \r\n      \r\n\r\n    }\r\n    fetchPosts(){\r\n        this.http.get<{[key:string]:Post}>(\"https://ng-complete-guide-4db6b-default-rtdb.firebaseio.com/posts.json\").pipe(map((responseData:{[key:string]:Post}) => {\r\n      const postsArray:Post[] = [];\r\n      for (const key in responseData) {\r\n        if (responseData.hasOwnProperty(key)) {\r\n          postsArray.push({...responseData[key], id: key });\r\n        }\r\n      }\r\n      return postsArray;\r\n\r\n    ))\r\n     \r\n    }\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}